<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Find Hospital</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
<header class="bg-blue-600 text-white py-4 text-center">
  <h1 class="text-2xl font-bold">Find Hospitals</h1>
</header>

<main class="container mx-auto py-6">
  <!-- Filters -->
  <form method="get" action="/find-hospital" class="mb-6 bg-white p-4 rounded shadow flex flex-wrap gap-4">
    <select name="city" class="border rounded px-3 py-2 w-full md:w-1/3">
      <option value="">-- Select City --</option>
      {% for c in all_cities %}
        <option value="{{ c }}" {% if selected_city == c %}selected{% endif %}>{{ c }}</option>
      {% endfor %}
    </select>

    <select name="state" class="border rounded px-3 py-2 w-full md:w-1/3">
      <option value="">-- Select State --</option>
      {% for s in all_states %}
        <option value="{{ s }}" {% if selected_state == s %}selected{% endif %}>{{ s }}</option>
      {% endfor %}
    </select>

    <select name="district" class="border rounded px-3 py-2 w-full md:w-1/3">
      <option value="">-- Select District --</option>
      {% for d in all_districts %}
        <option value="{{ d }}" {% if selected_district == d %}selected{% endif %}>{{ d }}</option>
      {% endfor %}
    </select>

    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Apply Filters
    </button>
    <a href="/find-hospital" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700">Clear</a>
  </form>

  <!-- Hospitals List -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% if hospitals %}
      {% for hospital in hospitals %}
        <div class="bg-white p-4 rounded shadow">
          <h2 class="text-xl font-bold">{{ hospital.name }}</h2>
          <p><strong>Address:</strong> {{ hospital.address }}</p>
          <p><strong>City:</strong> {{ hospital.city }}</p>
          <p><strong>District:</strong> {{ hospital.district }}</p>
          <p><strong>State:</strong> {{ hospital.state }}</p>
        </div>
      {% endfor %}
    {% else %}
      <p>No hospitals found matching the filters.</p>
    {% endif %}
  </div>
</main>
</body>
</html>
